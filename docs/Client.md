
## Client Class

The `Client` class serves as an interface between the application and the signaling server, facilitating the exchange of Session Description Protocols (SDPs) and ICE candidates necessary for WebRTC-based communication. This class enables the initiation and management of peer-to-peer connections by handling the transmission and reception of SDPs and ICE candidates.

When a user initiates a call, an SDP offer is generated by the `WebRTC` class and sent to the signaling server. The server then forwards this offer to the intended recipient (answerer). The answerer generates an SDP answer and sends it back through the server. Upon receipt of the SDP answer, the connection can be established via WebRTC. Additionally, ICE candidates are exchanged through this class to maintain connectivity.


### Fields

- **`QString m_mySocketId`**: Holds the unique socket ID assigned to this client by the server.
- **`QString m_newSdp`**: Stores the latest received SDP.
- **`sio::client client`**: Manages the Socket.IO connection for real-time communication.

### Signals

- **`newSdpReceived`**: Emitted when a new SDP is received, containing the `peerID` and the SDP content.
- **`answerIsReadyToGenerate`**: Triggered when an offer SDP is received, indicating that an answer needs to be generated.
- **`localIdIsSet`**: Emitted when the local socket ID is set, providing the `id` and an `isOfferer` flag.
- **`newIceCandidateReceived`**: Emitted when a new ICE candidate is received, containing the `id`, `candidate`, and `mid`.

### Public Slots

- **`void sendIceCandidate`**: Sends an ICE candidate to the specified peer.
- **`void sendOffer`**: Sends an SDP offer to a peer.
- **`void sendAnswer`**: Sends an SDP answer to a peer.

### **`Constructor`**

The `Client` class constructor initializes the connection with the signaling server. Once connected, the server assigns a unique ID to the client, which is used for communication. The class also sets up listeners to handle incoming SDPs and ICE candidates, emitting appropriate signals when data is received.



```cpp
Client::Client(QObject *parent)
    : QObject(parent)
{

    client.socket()->on("your_id", sio::socket::event_listener([this](sio::event &ev) {
                        // Event listener for receiving the client's ID from the server.
                        // Converting data...
                        if (m_mySocketId != data) {
                            m_mySocketId = data;
                            Q_EMIT localIdIsSet(data, false);
                        }
                        }));

    client.socket()->on("offer_sdp", sio::socket::event_listener([this](sio::event &ev) {
                    // Event listener for receiving an offer SDP from a peer.
                    // Converting data...
                        if (m_newSdp != sdp) {
                            m_newSdp = sdp;
                            Q_EMIT newSdpReceived(fromClientId, sdp);
                        }
                        Q_EMIT answerIsReadyToGenerate(fromClientId);
                        }));

    client.socket()->on("answer_sdp", sio::socket::event_listener([this](sio::event &ev) {
                        // Event listener for receiving an answer SDP from a peer.
                        // Converting data...
                                if (m_newSdp != sdp) {
                                    m_newSdp = sdp;
                                    Q_EMIT newSdpReceived(fromClientId, sdp);
                                }
                        }));

    client.socket()->on("send_ice", sio::socket::event_listener([this](sio::event &ev) {
                        // Event listener for receiving ICE candidates.
                        // Converting data...
                        Q_EMIT newIceCandidateReceived(fromClientId, candidate, mid);
                        }));

    //client.connect("http://127.0.0.1:3000");
    client.connect("http://74.234.202.9:3000");
}
```

### **`sendOffer(const QString &id, const QString &sdp)`**

Sends an SDP offer to a specified peer.

```cpp
void Client::sendOffer(const QString &id, const QString &sdp)
{
    // Creating JSON object to send the Offer
    client.socket()->emit("offer_sdp", sio::message::list(sdpJson));
}
```

### **`sendAnswer(const QString &id, const QString &sdp)`**

Sends an SDP answer.

```cpp
void Client::sendAnswer(const QString &id, const QString &sdp)
{
    // Creating JSON object to send the Answer
    client.socket()->emit("answer_sdp", sio::message::list(sdpJson));
}
```

### **`sendIceCandidate(const QString &id, const QString &candidate, const QString &mid)`**

Sends an ICE candidate.

```cpp
void Client::sendIceCandidate(const QString &id, const QString &candidate, const QString &mid)
{
    // Creating JSON object to send the Ice Candidate
    client.socket()->emit("send_ice", sio::message::list(sdpJson));
}
```
